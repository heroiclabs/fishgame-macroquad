var socket,connected,received_buffer;function on_init(){}register_plugin=function(a){a.env.ws_connect=ws_connect,a.env.ws_is_connected=ws_is_connected,a.env.ws_send=ws_send,a.env.ws_try_recv=ws_try_recv},miniquad_add_plugin({register_plugin,on_init,version:"0.1.0",name:"quad_net"});connected=0,received_buffer=[];function ws_is_connected(){return connected}function ws_connect(a){socket=new WebSocket(consume_js_object(a)),socket.binaryType='arraybuffer',socket.onopen=function(){connected=1},socket.onmessage=function(a){var b=new Uint8Array(a.data);received_buffer.push(b)}}function ws_send(a){var b=consume_js_object(a);socket.send(b.buffer)}function ws_try_recv(){return received_buffer.length!=0?js_object(received_buffer.shift()):-1}